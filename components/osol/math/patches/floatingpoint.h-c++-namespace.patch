Patch taken from https://www.illumos.org/issues/3853

diff -ruN math.orig/i386/usr/include/floatingpoint.h math/i386/usr/include/floatingpoint.h
--- math.orig/i386/usr/include/floatingpoint.h	2013-06-29 20:23:06.000000000 +0000
+++ math/i386/usr/include/floatingpoint.h	2013-06-29 21:09:37.143510285 +0000
@@ -197,12 +197,18 @@
 extern char *fcvt __P((double, int, int *, int *));
 extern char *gcvt __P((double, int, char *));
 
+#if __cplusplus >= 199711L
+namespace std {
+#endif
 /*
  * ANSI C Standard says the following entry points should be
  * prototyped in <stdlib.h>.  They are now, but weren't before.
  */
 extern double atof __P((const char *));
 extern double strtod __P((const char *, char **));
+#if __cplusplus >= 199711L
+}
+#endif /* end of namespace std */
 
 #undef	_FLOATINGPOINT_FILE
 
diff -ruN math.orig/sparc/usr/include/floatingpoint.h math/sparc/usr/include/floatingpoint.h
--- math.orig/sparc/usr/include/floatingpoint.h	2013-06-29 20:23:06.000000000 +0000
+++ math/sparc/usr/include/floatingpoint.h	2013-06-29 21:09:47.805105350 +0000
@@ -197,12 +197,18 @@
 extern char *fcvt __P((double, int, int *, int *));
 extern char *gcvt __P((double, int, char *));
 
+#if __cplusplus >= 199711L
+namespace std {
+#endif
 /*
  * ANSI C Standard says the following entry points should be
  * prototyped in <stdlib.h>.  They are now, but weren't before.
  */
 extern double atof __P((const char *));
 extern double strtod __P((const char *, char **));
+#if __cplusplus >= 199711L
+}
+#endif /* end of namespace std */
 
 #undef	_FLOATINGPOINT_FILE
 
